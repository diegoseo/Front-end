{"ast":null,"code":"import _asyncToGenerator from \"/home/seo/Desktop/primer-parcial-frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { EventEmitter } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/category.service\";\nimport * as i2 from \"../includes/full-page-modal/full-page-modal.component\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"../includes/back-modal/back-modal.component\";\nimport * as i5 from \"@angular/forms\";\nimport * as i6 from \"../includes/titled-input/titled-input.component\";\nimport * as i7 from \"../sub-category/sub-category.component\";\n\nfunction CategoryComponent_div_1_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"div\", 7);\n    i0.ɵɵelementStart(2, \"div\", 8);\n    i0.ɵɵelementStart(3, \"div\", 9);\n    i0.ɵɵelementStart(4, \"strong\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"button\", 10);\n    i0.ɵɵlistener(\"click\", function CategoryComponent_div_1_div_1_Template_button_click_6_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const category_r3 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext(2);\n      ctx_r5.showAddSubCategoryModal = true;\n      return ctx_r5.selectedCategory = category_r3;\n    });\n    i0.ɵɵelementStart(7, \"div\", 11);\n    i0.ɵɵelement(8, \"i\", 12);\n    i0.ɵɵelementStart(9, \"div\", 13);\n    i0.ɵɵtext(10, \"Sub\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"div\", 14);\n    i0.ɵɵtext(12, \"categor\\u00EDa\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(13, \"sub-category-list\", 15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const category_r3 = ctx.$implicit;\n    const i_r4 = ctx.index;\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", i_r4 % 2 === 0 ? \"bg-grey-f8\" : \"bg-white\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(category_r3.name);\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"subCategories\", ctx_r2.subCategories)(\"category\", category_r3);\n  }\n}\n\nfunction CategoryComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, CategoryComponent_div_1_div_1_Template, 14, 4, \"div\", 6);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.categories);\n  }\n}\n\nfunction CategoryComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 16);\n    i0.ɵɵelementStart(1, \"div\", 17);\n    i0.ɵɵtext(2, \"Categor\\u00EDa\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 18);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r1.selectedCategory.name);\n  }\n}\n\nexport class CategoryComponent {\n  constructor(_service) {\n    this._service = _service;\n    this.showAddModal = false;\n    this.showAddSubCategoryModal = false;\n    this.newCategoryName = '';\n    this.newSubCategoryName = '';\n    this.categories = [];\n    this.subCategories = [];\n    this.selectedCategory = null;\n    this.back = new EventEmitter();\n  }\n\n  loadCategories() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      _this.categories = yield _this._service.getAllCategories();\n      _this.subCategories = yield _this._service.getAllSubCategories();\n    })();\n  }\n\n  createCategory() {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      if (!_this2.newCategoryName) return;\n      _this2.categories = _this2.categories.concat(yield _this2._service.createCategory(_this2.newCategoryName));\n      _this2.newCategoryName = '';\n      _this2.showAddModal = false;\n    })();\n  }\n\n  createSubCategory() {\n    var _this3 = this;\n\n    return _asyncToGenerator(function* () {\n      yield _this3._service.createSubCategory(_this3.selectedCategory.id, _this3.newSubCategoryName);\n      _this3.newSubCategoryName = '';\n      _this3.showAddSubCategoryModal = false;\n\n      _this3.ngOnInit();\n    })();\n  }\n\n  getSubCategoriesOf(category) {\n    return this.subCategories.filter(s => s.categoryId === category.id);\n  }\n\n  ngOnInit() {\n    this.loadCategories();\n  }\n\n}\n\nCategoryComponent.ɵfac = function CategoryComponent_Factory(t) {\n  return new (t || CategoryComponent)(i0.ɵɵdirectiveInject(i1.CategoryService));\n};\n\nCategoryComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CategoryComponent,\n  selectors: [[\"category-list\"]],\n  outputs: {\n    back: \"back\"\n  },\n  decls: 7,\n  vars: 8,\n  consts: [[\"title\", \"Categor\\u00EDas\", \"btnAddText\", \"Nueva categor\\u00EDa\", 3, \"added\", \"back\"], [4, \"ngIf\"], [\"ngDefaultControl\", \"\", \"title\", \"Nueva categor\\u00EDa\", 3, \"ngModel\", \"canConfirm\", \"ngModelChange\", \"confirmed\"], [\"ngDefaultControl\", \"\", \"title\", \"Descripci\\u00F3n\", 3, \"ngModel\", \"ngModelChange\"], [\"ngDefaultControl\", \"\", \"title\", \"Nueva sub categor\\u00EDa\", 3, \"ngModel\", \"canConfirm\", \"ngModelChange\", \"confirmed\"], [\"class\", \"border-1 p-10 br-4\", 4, \"ngIf\"], [4, \"ngFor\", \"ngForOf\"], [1, \"p-15\", \"bb\", \"justify-between\", \"column\", 3, \"ngClass\"], [1, \"row\", \"justify-between\", \"items-center\"], [1, \"mb-10\"], [3, \"click\"], [1, \"row\", \"no-wrap\", \"items-center\"], [1, \"fas\", \"fa-plus\", \"fs-12\"], [1, \"m-h-5\", \"fs-12\"], [1, \"fs-12\"], [3, \"subCategories\", \"category\"], [1, \"border-1\", \"p-10\", \"br-4\"], [1, \"text-grey-7\", \"fs-12\"], [1, \"mt-5\"]],\n  template: function CategoryComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"full-page-modal\", 0);\n      i0.ɵɵlistener(\"added\", function CategoryComponent_Template_full_page_modal_added_0_listener() {\n        return ctx.showAddModal = true;\n      })(\"back\", function CategoryComponent_Template_full_page_modal_back_0_listener() {\n        return ctx.back.emit();\n      });\n      i0.ɵɵtemplate(1, CategoryComponent_div_1_Template, 2, 1, \"div\", 1);\n      i0.ɵɵelementStart(2, \"back-modal\", 2);\n      i0.ɵɵlistener(\"ngModelChange\", function CategoryComponent_Template_back_modal_ngModelChange_2_listener($event) {\n        return ctx.showAddModal = $event;\n      })(\"confirmed\", function CategoryComponent_Template_back_modal_confirmed_2_listener() {\n        return ctx.createCategory();\n      });\n      i0.ɵɵelementStart(3, \"titled-input\", 3);\n      i0.ɵɵlistener(\"ngModelChange\", function CategoryComponent_Template_titled_input_ngModelChange_3_listener($event) {\n        return ctx.newCategoryName = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"back-modal\", 4);\n      i0.ɵɵlistener(\"ngModelChange\", function CategoryComponent_Template_back_modal_ngModelChange_4_listener($event) {\n        return ctx.showAddSubCategoryModal = $event;\n      })(\"confirmed\", function CategoryComponent_Template_back_modal_confirmed_4_listener() {\n        return ctx.createSubCategory();\n      });\n      i0.ɵɵtemplate(5, CategoryComponent_div_5_Template, 5, 1, \"div\", 5);\n      i0.ɵɵelementStart(6, \"titled-input\", 3);\n      i0.ɵɵlistener(\"ngModelChange\", function CategoryComponent_Template_titled_input_ngModelChange_6_listener($event) {\n        return ctx.newSubCategoryName = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.categories && ctx.categories.length > 0);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngModel\", ctx.showAddModal)(\"canConfirm\", !!ctx.newCategoryName);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngModel\", ctx.newCategoryName);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngModel\", ctx.showAddSubCategoryModal)(\"canConfirm\", !!ctx.newSubCategoryName);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", !!ctx.selectedCategory);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngModel\", ctx.newSubCategoryName);\n    }\n  },\n  directives: [i2.FullPageModalComponent, i3.NgIf, i4.BackModalComponent, i5.DefaultValueAccessor, i5.NgControlStatus, i5.NgModel, i6.TitledInputComponent, i3.NgForOf, i3.NgClass, i7.SubCategoryComponent],\n  styles: [\".new-category-modal-container[_ngcontent-%COMP%] {\\n    z-index: 100;\\n    position: absolute;\\n    top:0;\\n    left:0;\\n    right:0;\\n    bottom:0;\\n    background-color:#7FFF00;\\n}\\n.new-category-modal[_ngcontent-%COMP%] {\\n    position: relative;\\n    background-color:Black;\\n    margin: 10px;\\n    top:50%;\\n    left:50%;\\n    transform: translate(-50%, -50%);\\n}\\n.category-container[_ngcontent-%COMP%] {\\n    position: absolute;\\n    top: 0;\\n    bottom: 0;\\n    left:0;\\n}\\n.category-container-background[_ngcontent-%COMP%] {\\n    z-index: 70;\\n    position: absolute;\\n    top: 0;\\n    left:0;\\n    right: 0;\\n    bottom: 0;\\n    background-color: #0004;\\n}\\n@media screen and (min-width: 480px) {\\n    .category-container[_ngcontent-%COMP%] {\\n        margin:0;\\n    }\\n    \\n}\"]\n});","map":{"version":3,"sources":["/home/seo/Desktop/primer-parcial-frontend/src/app/components/category/category.component.ts","/home/seo/Desktop/primer-parcial-frontend/src/app/components/category/category.component.html"],"names":[],"mappings":"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","sourcesContent":["import { Component, OnInit, Output, EventEmitter } from '@angular/core';\nimport { CategoryService } from 'src/app/services/category.service';\n\n@Component({\n  selector: 'category-list',\n  templateUrl: './category.component.html'\n})\nexport class CategoryComponent implements OnInit {\n\n  public showAddModal: boolean = false;\n  public showAddSubCategoryModal: boolean = false;\n  public newCategoryName: string = '';\n  public newSubCategoryName: string = '';\n  public categories: Array<any> = [];\n  public subCategories: Array<any> = [];\n  public selectedCategory: any = null;\n  \n  @Output() back = new EventEmitter<boolean>();\n\n  constructor(private _service: CategoryService) { }\n\n  async loadCategories() {\n    this.categories = await this._service.getAllCategories();\n    this.subCategories = await this._service.getAllSubCategories();\n  }\n\n  async createCategory() {\n    if (!this.newCategoryName) return;\n    this.categories = this.categories.concat(\n      await this._service.createCategory(this.newCategoryName)\n    );\n    this.newCategoryName = '';\n    this.showAddModal = false;\n  }\n\n  async createSubCategory() {\n    await this._service.createSubCategory(\n      this.selectedCategory.id,\n      this.newSubCategoryName);\n    this.newSubCategoryName = '';\n    this.showAddSubCategoryModal = false;\n    this.ngOnInit();\n  }\n\n  getSubCategoriesOf(category: any): Array<any> {\n    return this.subCategories.filter(s => s.categoryId === category.id);\n  }\n\n  ngOnInit(): void {\n    this.loadCategories();\n  }\n\n}\n","<style>\n.new-category-modal-container {\n    z-index: 100;\n    position: absolute;\n    top:0;\n    left:0;\n    right:0;\n    bottom:0;\n    background-color:#7FFF00;\n}\n.new-category-modal {\n    position: relative;\n    background-color:Black;\n    margin: 10px;\n    top:50%;\n    left:50%;\n    transform: translate(-50%, -50%);\n}\n.category-container {\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left:0;\n}\n.category-container-background {\n    z-index: 70;\n    position: absolute;\n    top: 0;\n    left:0;\n    right: 0;\n    bottom: 0;\n    background-color: #0004;\n}\n@media screen and (min-width: 480px) {\n    .category-container {\n        margin:0;\n    }\n    \n}\n</style>\n\n<full-page-modal \n    title=\"Categorías\"\n    btnAddText=\"Nueva categoría\"\n    (added)=\"showAddModal=true\"\n    (back)=\"back.emit()\"\n>\n\n    <!-- LIST -->\n\n    <div *ngIf=\"categories && categories.length > 0\">\n        <div *ngFor=\"let category of categories; index as i\">\n            <div class=\"p-15 bb justify-between column\"\n                [ngClass]=\"i % 2 === 0 ? 'bg-grey-f8' : 'bg-white'\"\n            >\n                <!-- CATEGORY ITEM -->\n\n                <div class=\"row justify-between items-center\">\n                    <!-- CATEGORY NAME -->\n\n                    <div class=\"mb-10\">\n                        <strong>{{category.name}}</strong>\n                    </div>\n\n                    <!-- ADD SUB CATEGORY BUTTON -->\n                    \n                    <button (click)=\"showAddSubCategoryModal=true;selectedCategory=category\">\n                        <div class=\"row no-wrap items-center\">\n                            <i class=\"fas fa-plus fs-12\"></i>\n                            <div class=\"m-h-5 fs-12\">Sub</div>\n                            <div class=\"fs-12\">categoría</div>\n                        </div>\n                    </button>\n                </div>\n\n                <!-- SUB CATEGORY LIST -->\n\n                <sub-category-list \n                    [subCategories]=\"subCategories\"\n                    [category]=\"category\">\n                </sub-category-list>\n            </div>\n        </div>\n    </div>\n\n    <!-- NEW CATEGORY MODAL -->\n\n    <back-modal \n        ngDefaultControl\n        title=\"Nueva categoría\"\n        [(ngModel)]=\"showAddModal\"\n        [canConfirm]=\"!!newCategoryName\"\n        (confirmed)=\"createCategory()\"\n    >\n        <titled-input \n            ngDefaultControl \n            title=\"Descripción\" \n            [(ngModel)]=\"newCategoryName\">\n        </titled-input>\n    </back-modal>\n\n    <!-- ADD SUB CATEGORY MODAL -->\n\n    <back-modal \n        ngDefaultControl\n        title=\"Nueva sub categoría\"\n        [(ngModel)]=\"showAddSubCategoryModal\"\n        [canConfirm]=\"!!newSubCategoryName\"\n        (confirmed)=\"createSubCategory()\"\n    >\n        <div *ngIf=\"!!selectedCategory\" \n            class=\"border-1 p-10 br-4\"\n        >\n            <div class=\"text-grey-7 fs-12\">Categoría</div>\n            <div class=\"mt-5\">{{selectedCategory.name}}</div>\n        </div>\n        <titled-input \n            ngDefaultControl \n            title=\"Descripción\" \n            [(ngModel)]=\"newSubCategoryName\">\n        </titled-input>\n    </back-modal>\n        \n        \n</full-page-modal>"],"sourceRoot":""},"metadata":{},"sourceType":"module"}