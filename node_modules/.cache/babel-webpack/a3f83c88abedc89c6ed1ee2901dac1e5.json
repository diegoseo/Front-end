{"ast":null,"code":"import _asyncToGenerator from \"/home/seo/Desktop/Parcial_front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { EventEmitter } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/service.service\";\nimport * as i2 from \"../includes/full-page-modal/full-page-modal.component\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"../includes/back-modal/back-modal.component\";\nimport * as i5 from \"@angular/forms\";\nimport * as i6 from \"../includes/titled-input/titled-input.component\";\n\nfunction ServiceComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"div\", 9);\n    i0.ɵɵelementStart(2, \"div\", 10);\n    i0.ɵɵelementStart(3, \"div\", 11);\n    i0.ɵɵelementStart(4, \"div\", 12);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 13);\n    i0.ɵɵelementStart(7, \"strong\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\", 12);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"button\", 14);\n    i0.ɵɵlistener(\"click\", function ServiceComponent_div_1_Template_button_click_11_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const service_r2 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return ctx_r4.showEditEditModal(service_r2);\n    });\n    i0.ɵɵelementStart(12, \"div\", 15);\n    i0.ɵɵelement(13, \"i\", 16);\n    i0.ɵɵelementStart(14, \"div\", 17);\n    i0.ɵɵtext(15, \"Editar\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const service_r2 = ctx.$implicit;\n    const i_r3 = ctx.index;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", i_r3 % 2 === 0 ? \"bg-grey-f8\" : \"bg-white\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(service_r2.code);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(service_r2.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Precio: \", service_r2.price, \"\");\n  }\n}\n\nfunction ServiceComponent_button_9_i_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"i\", 20);\n  }\n}\n\nfunction ServiceComponent_button_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 18);\n    i0.ɵɵlistener(\"click\", function ServiceComponent_button_9_Template_button_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r9);\n      const product_r6 = restoredCtx.$implicit;\n      const ctx_r8 = i0.ɵɵnextContext();\n      return ctx_r8.selectedService.product = product_r6;\n    });\n    i0.ɵɵelementStart(1, \"div\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, ServiceComponent_button_9_i_3_Template, 1, 0, \"i\", 19);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const product_r6 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngClass\", ctx_r1.selectedService.product === product_r6 ? \"bg-grey-e\" : \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"\", product_r6.id, \" - \", product_r6.name, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.selectedService.product === product_r6);\n  }\n}\n\nexport class ServiceComponent {\n  constructor(_service) {\n    this._service = _service;\n    this.services = [];\n    this.products = [];\n    this.showAddModal = false;\n    this.editingModal = false;\n    this.selectedService = {};\n    this.back = new EventEmitter();\n    this.clearSelectedService();\n  }\n\n  clearSelectedService() {\n    this.selectedService = {\n      id: '',\n      name: '',\n      product: null,\n      flag: 'S',\n      code: '',\n      price: ''\n    };\n  }\n\n  createService() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      const newService = yield _this._service.createService(_this.selectedService);\n      _this.services = _this.services.concat(newService);\n\n      _this.clearSelectedService();\n\n      _this.showAddModal = false;\n    })();\n  }\n\n  loadServicesFromServer() {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      _this2.services = yield _this2._service.getAllServices();\n      _this2.products = yield _this2._service.getAllProducts();\n    })();\n  }\n\n  editService() {\n    var _this3 = this;\n\n    return _asyncToGenerator(function* () {\n      yield _this3._service.editService(_this3.selectedService);\n\n      _this3.clearSelectedService();\n\n      _this3.editingModal = false;\n      _this3.showAddModal = false;\n\n      _this3.ngOnInit();\n    })();\n  }\n\n  showEditEditModal(service) {\n    this.selectedService = service;\n    this.showAddModal = true;\n    this.editingModal = true;\n  }\n\n  confirmAction() {\n    var _this4 = this;\n\n    return _asyncToGenerator(function* () {\n      if (_this4.editingModal) yield _this4.editService(); // Create new service\n      else yield _this4.createService();\n    })();\n  }\n\n  get isValidSelectedService() {\n    return this.selectedService && this.selectedService.name && this.selectedService.product && this.selectedService.flag && this.selectedService.code && this.selectedService.price;\n  }\n\n  ngOnInit() {\n    this.clearSelectedService();\n    this.loadServicesFromServer();\n  }\n\n}\n\nServiceComponent.ɵfac = function ServiceComponent_Factory(t) {\n  return new (t || ServiceComponent)(i0.ɵɵdirectiveInject(i1.ServiceService));\n};\n\nServiceComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ServiceComponent,\n  selectors: [[\"service-list\"]],\n  outputs: {\n    back: \"back\"\n  },\n  decls: 10,\n  vars: 9,\n  consts: [[\"title\", \"Servicios\", \"btnAddText\", \"Nuevo servicio\", 3, \"added\", \"back\"], [4, \"ngFor\", \"ngForOf\"], [\"ngDefaultControl\", \"\", 3, \"title\", \"ngModel\", \"canConfirm\", \"confirmButtonText\", \"ngModelChange\", \"confirmed\"], [\"ngDefaultControl\", \"\", \"title\", \"C\\u00F3digo\", 3, \"ngModel\", \"ngModelChange\"], [\"ngDefaultControl\", \"\", \"title\", \"Nombre\", 3, \"ngModel\", \"ngModelChange\"], [\"ngDefaultControl\", \"\", \"title\", \"Precio\", \"type\", \"number\", 3, \"ngModel\", \"ngModelChange\"], [1, \"p-v-10\", \"column\", 2, \"max-height\", \"200px\", \"overflow\", \"auto\"], [1, \"text-grey-7\", \"fs-12\", \"mb-15\", \"p-h-5\"], [\"class\", \"p-10 border-1 br-4 mb-5 text-left row justify-between\", 3, \"ngClass\", \"click\", 4, \"ngFor\", \"ngForOf\"], [1, \"p-15\", \"bb\", \"justify-between\", \"column\", 3, \"ngClass\"], [1, \"row\", \"justify-between\", \"items-center\"], [1, \"column\"], [1, \"text-grey-5\", \"fs-12\"], [1, \"m-v-5\"], [3, \"click\"], [1, \"row\", \"no-wrap\", \"items-center\"], [1, \"fas\", \"fa-edit\", \"fs-12\"], [1, \"m-h-5\", \"fs-12\", \"underline\"], [1, \"p-10\", \"border-1\", \"br-4\", \"mb-5\", \"text-left\", \"row\", \"justify-between\", 3, \"ngClass\", \"click\"], [\"class\", \"fas fa-check\", 4, \"ngIf\"], [1, \"fas\", \"fa-check\"]],\n  template: function ServiceComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"full-page-modal\", 0);\n      i0.ɵɵlistener(\"added\", function ServiceComponent_Template_full_page_modal_added_0_listener() {\n        ctx.showAddModal = true;\n        return ctx.clearSelectedService();\n      })(\"back\", function ServiceComponent_Template_full_page_modal_back_0_listener() {\n        return ctx.back.emit();\n      });\n      i0.ɵɵtemplate(1, ServiceComponent_div_1_Template, 16, 4, \"div\", 1);\n      i0.ɵɵelementStart(2, \"back-modal\", 2);\n      i0.ɵɵlistener(\"ngModelChange\", function ServiceComponent_Template_back_modal_ngModelChange_2_listener($event) {\n        return ctx.showAddModal = $event;\n      })(\"confirmed\", function ServiceComponent_Template_back_modal_confirmed_2_listener() {\n        return ctx.confirmAction();\n      });\n      i0.ɵɵelementStart(3, \"titled-input\", 3);\n      i0.ɵɵlistener(\"ngModelChange\", function ServiceComponent_Template_titled_input_ngModelChange_3_listener($event) {\n        return ctx.selectedService.code = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"titled-input\", 4);\n      i0.ɵɵlistener(\"ngModelChange\", function ServiceComponent_Template_titled_input_ngModelChange_4_listener($event) {\n        return ctx.selectedService.name = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"titled-input\", 5);\n      i0.ɵɵlistener(\"ngModelChange\", function ServiceComponent_Template_titled_input_ngModelChange_5_listener($event) {\n        return ctx.selectedService.price = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"div\", 6);\n      i0.ɵɵelementStart(7, \"div\", 7);\n      i0.ɵɵtext(8, \" Seleccionar producto \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(9, ServiceComponent_button_9_Template, 4, 4, \"button\", 8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.services);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"title\", ctx.editingModal ? \"Modificar servicio \" + ctx.selectedService.id : \"Nuevo servicio\")(\"ngModel\", ctx.showAddModal)(\"canConfirm\", ctx.isValidSelectedService)(\"confirmButtonText\", ctx.editingModal ? \"Modificar\" : \"Crear\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngModel\", ctx.selectedService.code);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngModel\", ctx.selectedService.name);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngModel\", ctx.selectedService.price);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngForOf\", ctx.products);\n    }\n  },\n  directives: [i2.FullPageModalComponent, i3.NgForOf, i4.BackModalComponent, i5.DefaultValueAccessor, i5.NgControlStatus, i5.NgModel, i6.TitledInputComponent, i3.NgClass, i3.NgIf],\n  encapsulation: 2\n});","map":{"version":3,"sources":["/home/seo/Desktop/Parcial_front/src/app/components/service/service.component.ts","/home/seo/Desktop/Parcial_front/src/app/components/service/service.component.html"],"names":[],"mappings":"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","sourcesContent":["import { Component, OnInit, Output, EventEmitter } from '@angular/core';\nimport { ServiceService } from 'src/app/services/service.service';\n\n@Component({\n  selector: 'service-list',\n  templateUrl: './service.component.html'\n})\nexport class ServiceComponent implements OnInit {\n\n  public services: Array<any> = [];\n  public products: Array<any> = [];\n  public showAddModal: boolean = false;\n  public editingModal: boolean = false;\n  public selectedService: any = {};\n  @Output() back = new EventEmitter();\n\n  constructor(private _service: ServiceService) {\n    this.clearSelectedService();\n  }\n\n  clearSelectedService() {\n    this.selectedService = {\n      id: '',\n      name: '',\n      product: null,\n      flag: 'S',\n      code: '',\n      price: ''\n    };\n  }\n\n  async createService() {\n    const newService = await this._service.createService(this.selectedService);\n    this.services = this.services.concat(newService);\n    this.clearSelectedService();\n    this.showAddModal = false;\n  }\n\n  async loadServicesFromServer() {\n    this.services = await this._service.getAllServices();\n    this.products = await this._service.getAllProducts();\n  }\n\n  async editService() {\n    await this._service.editService(this.selectedService);\n    this.clearSelectedService();\n    this.editingModal = false;\n    this.showAddModal = false;\n    this.ngOnInit();\n  }\n\n  showEditEditModal(service: any) {\n    this.selectedService = service;\n    this.showAddModal = true;\n    this.editingModal = true;\n  }\n\n  async confirmAction() {\n    if (this.editingModal)\n      await this.editService();\n    // Create new service\n    else await this.createService();\n  }\n\n  public get isValidSelectedService(): boolean {\n    return this.selectedService &&\n      this.selectedService.name &&\n      this.selectedService.product &&\n      this.selectedService.flag &&\n      this.selectedService.code &&\n      this.selectedService.price;\n  }\n\n  ngOnInit(): void {\n    this.clearSelectedService();\n    this.loadServicesFromServer();\n  }\n\n}\n","<full-page-modal \n    title=\"Servicios\"\n    btnAddText=\"Nuevo servicio\"\n    (added)=\"showAddModal=true;clearSelectedService()\"\n    (back)=\"back.emit()\"\n>\n\n    <div *ngFor=\"let service of services; index as i\">\n        <div class=\"p-15 bb justify-between column\" \n            [ngClass]=\"i % 2 === 0 ? 'bg-grey-f8' : 'bg-white'\"\n        >\n            <!-- SERVICE ITEM -->\n    \n            <div class=\"row justify-between items-center\">\n                <!-- SERVICE INFO NAME -->\n\n                <div class=\"column\">\n                    <div class=\"text-grey-5 fs-12\">{{service.code}}</div>\n                    <div class=\"m-v-5\"><strong>{{service.name}}</strong></div>\n                    <div class=\"text-grey-5 fs-12\">Precio: {{service.price}}</div>\n                </div>\n    \n                <!-- EDIT SERVICE -->\n    \n                <button (click)=\"showEditEditModal(service)\">\n                    <div class=\"row no-wrap items-center\">\n                        <i class=\"fas fa-edit fs-12\"></i>\n                        <div class=\"m-h-5 fs-12 underline\">Editar</div>\n                    </div>\n                </button>\n            </div>\n        </div>\n    </div>\n\n    <!-- NEW SERVICE MODAL -->\n\n    <back-modal \n        ngDefaultControl\n        [title]=\"editingModal?'Modificar servicio '+selectedService.id:'Nuevo servicio'\"\n        [(ngModel)]=\"showAddModal\"\n        [canConfirm]=\"isValidSelectedService\"\n        [confirmButtonText]=\"editingModal?'Modificar':'Crear'\"\n        (confirmed)=\"confirmAction()\"\n    >\n        <!-- NEW SERVICE CODE -->\n        <titled-input \n            ngDefaultControl \n            title=\"Código\" \n            [(ngModel)]=\"selectedService.code\">\n        </titled-input>\n        <!-- NEW SERVICE NAME -->\n        <titled-input \n            ngDefaultControl \n            title=\"Nombre\" \n            [(ngModel)]=\"selectedService.name\">\n        </titled-input>\n        <!-- NEW SERVICE PRICE -->\n        <titled-input \n            ngDefaultControl \n            title=\"Precio\"\n            type=\"number\"\n            [(ngModel)]=\"selectedService.price\">\n        </titled-input>\n        <!-- PRODUCT LIST (SELECTOR) -->\n        <div class=\"p-v-10 column\" style=\"max-height:200px;overflow:auto\">\n            <div class=\"text-grey-7 fs-12 mb-15 p-h-5\">\n                Seleccionar producto\n            </div>\n            <!-- PRODUCT LIST ITEMS -->\n            <button *ngFor=\"let product of products\" \n                class=\"p-10 border-1 br-4 mb-5 text-left row justify-between\"\n                [ngClass]=\"selectedService.product===product?'bg-grey-e':''\"\n                (click)=\"selectedService.product=product\"\n            >\n                <div>{{product.id}} - {{product.name}}</div>\n                <i *ngIf=\"selectedService.product===product\" class=\"fas fa-check\"></i>\n            </button>\n        </div>\n    </back-modal>\n\n</full-page-modal>"],"sourceRoot":""},"metadata":{},"sourceType":"module"}