{"ast":null,"code":"import _asyncToGenerator from \"/home/seo/Desktop/Parcial_front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { EventEmitter } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/hours.service\";\nimport * as i2 from \"../includes/full-page-modal/full-page-modal.component\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"../includes/back-modal/back-modal.component\";\nimport * as i5 from \"@angular/forms\";\nimport * as i6 from \"../includes/titled-input/titled-input.component\";\n\nfunction HoursComponent_div_1_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 16);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const hour_r1 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"CI/RUC \", hour_r1.id, \"\");\n  }\n}\n\nfunction HoursComponent_div_1_tr_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵelementStart(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const hour_r5 = ctx.$implicit;\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r3.getDayFromNumber(hour_r5.day));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(hour_r5.hourOpen);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(hour_r5.hourClose);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(hour_r5.interval);\n  }\n}\n\nfunction HoursComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 8);\n    i0.ɵɵelementStart(1, \"div\", 9);\n    i0.ɵɵelementStart(2, \"div\");\n    i0.ɵɵtemplate(3, HoursComponent_div_1_div_3_Template, 2, 1, \"div\", 10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\");\n    i0.ɵɵelementStart(5, \"button\", 11);\n    i0.ɵɵlistener(\"click\", function HoursComponent_div_1_Template_button_click_5_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r7);\n      const hour_r1 = restoredCtx.$implicit;\n      const ctx_r6 = i0.ɵɵnextContext();\n      return ctx_r6.showEditModal(hour_r1);\n    });\n    i0.ɵɵelement(6, \"i\", 12);\n    i0.ɵɵelementStart(7, \"div\", 13);\n    i0.ɵɵtext(8, \"Editar\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"table\", 14);\n    i0.ɵɵelementStart(10, \"tr\");\n    i0.ɵɵelementStart(11, \"th\");\n    i0.ɵɵtext(12, \"D\\u00EDa\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"th\");\n    i0.ɵɵtext(14, \"Hora de iniciio\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"th\");\n    i0.ɵɵtext(16, \"Hora de fin\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"th\");\n    i0.ɵɵtext(18, \"Intervalo\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(19, HoursComponent_div_1_tr_19_Template, 9, 4, \"tr\", 15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const hour_r1 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", hour_r1.document);\n    i0.ɵɵadvance(16);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.hours);\n  }\n}\n\nexport class HoursComponent {\n  constructor(_service) {\n    this._service = _service;\n    this.showAddModal = false;\n    this.editingModal = false;\n    this.selectedHour = {};\n    this.hours = [];\n    this.back = new EventEmitter();\n    this.dias = ['Domingo', 'Lunes', 'Martes', 'Miercoles', 'Jueves', 'Viernes', 'Sabado'];\n    this.clearSelectedHour();\n  }\n\n  clearSelectedHour() {\n    this.selectedHour = {\n      id: '',\n      day: '',\n      hourOpen: '',\n      hourClose: '',\n      interval: ''\n    };\n  }\n\n  showNewClientModal() {\n    this.clearSelectedHour();\n    this.editingModal = false;\n    this.showAddModal = true;\n  }\n\n  showEditModal(hour) {\n    this.selectedHour = hour;\n    this.showAddModal = true;\n    this.editingModal = true;\n  }\n\n  editHour() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      yield _this._service.editHour(_this.selectedHour);\n\n      _this.clearSelectedHour();\n\n      _this.editingModal = false;\n      _this.showAddModal = false;\n\n      _this.ngOnInit();\n    })();\n  }\n\n  createHour() {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      const newHour = yield _this2._service.createHour(_this2.selectedHour); // Concat new hour\n\n      _this2.hours = _this2.hours.concat(newHour); // Clear\n\n      _this2.clearSelectedHour(); // Close\n\n\n      _this2.showAddModal = false;\n    })();\n  }\n\n  get isValidSelectedHour() {\n    return !!this.selectedHour && !!this.selectedHour.day && !!this.selectedHour.hourOpen && !!this.selectedHour.hourClose && !!this.selectedHour.interval && !!this.selectedHour.id;\n  }\n\n  getDayFromNumber(number) {\n    const days = \"Domingo,Lunes,Martes,Miercoles,Jueves,Viernes,Sábado\".split(',');\n    return days[Math.max(0, Math.min(6, number))];\n  }\n\n  loadHours() {\n    var _this3 = this;\n\n    return _asyncToGenerator(function* () {\n      _this3.hours = yield _this3._service.getAllHours();\n    })();\n  }\n\n  ngOnInit() {\n    this.loadHours();\n  }\n\n}\n\nHoursComponent.ɵfac = function HoursComponent_Factory(t) {\n  return new (t || HoursComponent)(i0.ɵɵdirectiveInject(i1.HoursService));\n};\n\nHoursComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: HoursComponent,\n  selectors: [[\"hours-list\"]],\n  outputs: {\n    back: \"back\"\n  },\n  decls: 8,\n  vars: 10,\n  consts: [[\"title\", \"Horarios\", \"btnAddText\", \"Nuevo horario\", 3, \"added\", \"back\"], [\"class\", \"bb p-15 column\", 4, \"ngFor\", \"ngForOf\"], [\"ngDefaultControl\", \"\", 3, \"title\", \"ngModel\", \"canConfirm\", \"confirmButtonText\", \"ngModelChange\", \"confirmed\"], [\"ngDefaultControl\", \"\", \"title\", \"Doctor\", \"type\", \"number\", 3, \"ngModel\", \"ngModelChange\"], [\"ngDefaultControl\", \"\", \"title\", \"Hora Inicio\", \"type\", \"number\", 3, \"ngModel\", \"ngModelChange\"], [\"ngDefaultControl\", \"\", \"title\", \"Hora Fin\", \"type\", \"number\", 3, \"ngModel\", \"ngModelChange\"], [\"ngDefaultControl\", \"\", \"title\", \"Intervalo\", \"type\", \"number\", 3, \"ngModel\", \"ngModelChange\"], [\"ngDefaultControl\", \"\", \"title\", \"Dia\", 3, \"ngModel\", \"ngModelChange\"], [1, \"bb\", \"p-15\", \"column\"], [1, \"row\", \"justify-between\"], [\"class\", \"text-grey-5 fs-12\", 4, \"ngIf\"], [1, \"row\", \"p-5\", \"text-grey-5\", 3, \"click\"], [1, \"fas\", \"fa-user-edit\"], [1, \"ml-5\", \"underline\"], [1, \"mt-10\"], [4, \"ngFor\", \"ngForOf\"], [1, \"text-grey-5\", \"fs-12\"]],\n  template: function HoursComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"full-page-modal\", 0);\n      i0.ɵɵlistener(\"added\", function HoursComponent_Template_full_page_modal_added_0_listener() {\n        return ctx.showNewClientModal();\n      })(\"back\", function HoursComponent_Template_full_page_modal_back_0_listener() {\n        return ctx.back.emit();\n      });\n      i0.ɵɵtemplate(1, HoursComponent_div_1_Template, 20, 2, \"div\", 1);\n      i0.ɵɵelementStart(2, \"back-modal\", 2);\n      i0.ɵɵlistener(\"ngModelChange\", function HoursComponent_Template_back_modal_ngModelChange_2_listener($event) {\n        return ctx.showAddModal = $event;\n      })(\"confirmed\", function HoursComponent_Template_back_modal_confirmed_2_listener() {\n        return ctx.editingModal ? ctx.editHour() : ctx.createHour();\n      });\n      i0.ɵɵelementStart(3, \"titled-input\", 3);\n      i0.ɵɵlistener(\"ngModelChange\", function HoursComponent_Template_titled_input_ngModelChange_3_listener($event) {\n        return ctx.selectedHour.id = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"titled-input\", 4);\n      i0.ɵɵlistener(\"ngModelChange\", function HoursComponent_Template_titled_input_ngModelChange_4_listener($event) {\n        return ctx.selectedHour.hourOpen = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"titled-input\", 5);\n      i0.ɵɵlistener(\"ngModelChange\", function HoursComponent_Template_titled_input_ngModelChange_5_listener($event) {\n        return ctx.selectedHour.hourClose = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"titled-input\", 6);\n      i0.ɵɵlistener(\"ngModelChange\", function HoursComponent_Template_titled_input_ngModelChange_6_listener($event) {\n        return ctx.selectedHour.interval = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"titled-input\", 7);\n      i0.ɵɵlistener(\"ngModelChange\", function HoursComponent_Template_titled_input_ngModelChange_7_listener($event) {\n        return ctx.selectedHour.day = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.hours);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"title\", ctx.editingModal ? \"Modificar hora \" + ctx.selectedHour.id : \"Nueva Hora\")(\"ngModel\", ctx.showAddModal)(\"canConfirm\", ctx.isValidSelectedHour)(\"confirmButtonText\", ctx.editingModal ? \"Modificar\" : \"Crear\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngModel\", ctx.selectedHour.id);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngModel\", ctx.selectedHour.hourOpen);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngModel\", ctx.selectedHour.hourClose);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngModel\", ctx.selectedHour.interval);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngModel\", ctx.selectedHour.day);\n    }\n  },\n  directives: [i2.FullPageModalComponent, i3.NgForOf, i4.BackModalComponent, i5.DefaultValueAccessor, i5.NgControlStatus, i5.NgModel, i6.TitledInputComponent, i3.NgIf],\n  styles: [\"table[_ngcontent-%COMP%] {\\n        border-collapse: collapse;\\n        width: 100%;\\n    }\\n\\n    td[_ngcontent-%COMP%], th[_ngcontent-%COMP%] {\\n        border: 1px solid #dddddd;\\n        text-align: left;\\n        padding: 8px;\\n    }\\n\\n    tr[_ngcontent-%COMP%]:nth-child(even) {\\n        background-color: #dddddd;\\n    }\"]\n});","map":{"version":3,"sources":["/home/seo/Desktop/Parcial_front/src/app/components/hours/hours.component.ts","/home/seo/Desktop/Parcial_front/src/app/components/hours/hours.component.html"],"names":[],"mappings":"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","sourcesContent":["\nimport { Component, OnInit, Output, EventEmitter  } from '@angular/core';\n\nimport { HoursService } from 'src/app/services/hours.service';\n\n\n\n@Component({\n  selector: 'hours-list',\n  templateUrl: './hours.component.html',\n})\n\n\nexport class HoursComponent implements OnInit {\n\n\n  public showAddModal: boolean = false;\n  public editingModal: boolean = false;\n  public selectedHour: any = {};\n  public hours: Array<any> = [];\n  @Output() back = new EventEmitter();\n\n\n  dias = ['Domingo','Lunes', 'Martes', 'Miercoles', 'Jueves', 'Viernes', 'Sabado'];\n\n\n\n  constructor(private _service: HoursService) {\n    this.clearSelectedHour();\n  }\n  clearSelectedHour() {\n    this.selectedHour = {\n      id: '',\n      day: '',\n      hourOpen: '',\n      hourClose: '',\n      interval: '',\n\n    };\n  }\n\n  showNewClientModal() {\n    this.clearSelectedHour();\n    this.editingModal = false;\n    this.showAddModal = true;\n  }\n\n  showEditModal(hour: any) {\n    this.selectedHour = hour;\n    this.showAddModal = true;\n    this.editingModal = true;\n  }\n\n  async editHour() {\n    await this._service.editHour(this.selectedHour);\n    this.clearSelectedHour();\n    this.editingModal = false;\n    this.showAddModal = false;\n    this.ngOnInit();\n  }\n\n  async createHour() {\n    const newHour = await this._service.createHour(\n      this.selectedHour\n    );\n    // Concat new hour\n    this.hours = this.hours.concat(newHour);\n    // Clear\n    this.clearSelectedHour();\n    // Close\n    this.showAddModal = false;\n  }\n\n  public get isValidSelectedHour(): boolean {\n    return !!this.selectedHour &&\n      !!this.selectedHour.day &&\n      !!this.selectedHour.hourOpen &&\n      !!this.selectedHour.hourClose &&\n      !!this.selectedHour.interval &&\n      !!this.selectedHour.id;\n  }\n\n  public getDayFromNumber(number: number): string {\n    const days = \"Domingo,Lunes,Martes,Miercoles,Jueves,Viernes,Sábado\".split(',');\n    return days[Math.max(0, Math.min(6, number))];\n  }\n\n  async loadHours() {\n    this.hours = await this._service.getAllHours();\n  }\n  \n  ngOnInit(): void {\n    this.loadHours();\n  }\n\n  \n}\n","<style>\n    table {\n        border-collapse: collapse;\n        width: 100%;\n    }\n\n    td, th {\n        border: 1px solid #dddddd;\n        text-align: left;\n        padding: 8px;\n    }\n\n    tr:nth-child(even) {\n        background-color: #dddddd;\n    }\n</style>\n\n<full-page-modal title=\"Horarios\" btnAddText=\"Nuevo horario\" (added)=\"showNewClientModal()\" (back)=\"back.emit()\">\n    <div *ngFor=\"let hour of hours\" class=\"bb p-15 column\">\n        <div class=\"row justify-between\">\n            <!-- PERSONAL INFO -->\n            <div>\n                <div *ngIf=\"hour.document\" class=\"text-grey-5 fs-12\">CI/RUC {{hour.id}}</div>\n                <!--div class=\"m-v-5\"><strong>{{hour.fullName}}</strong></div>\n                <div class=\"text-grey-5\">{{doctor.email}}</div>\n                <div class=\"text-grey-5\">{{doctor.phone}}</div>-->\n            </div>\n            <!-- EDIT BUTTON -->\n            <div>\n                <button class=\"row p-5 text-grey-5\" (click)=\"showEditModal(hour)\">\n                    <i class=\"fas fa-user-edit\"></i>\n                    <div class=\"ml-5 underline\">Editar</div>\n                </button>\n            </div>\n        </div>\n        <!-- CALENDAR -->\n        <!--<div class=\"mt-10 mb-5 text-grey-2\">Calendario</div>-->\n        <table class=\"table\" class=\"mt-10\">\n            <tr>\n                <th>Día</th>\n                <th>Hora de iniciio</th>\n                <th>Hora de fin</th>\n                <th>Intervalo</th>\n            </tr>\n            <tr *ngFor=\"let hour of hours\">\n                <td>{{getDayFromNumber(hour.day)}}</td>\n                <td>{{hour.hourOpen}}</td>\n                <td>{{hour.hourClose}}</td>\n                <td>{{hour.interval}}</td>\n            </tr>\n        </table>\n    </div>\n\n    <back-modal \n        ngDefaultControl \n        [title]=\"editingModal?'Modificar hora '+selectedHour.id:'Nueva Hora'\"\n        [(ngModel)]=\"showAddModal\" \n        [canConfirm]=\"isValidSelectedHour\"\n        [confirmButtonText]=\"editingModal?'Modificar':'Crear'\"\n        (confirmed)=\"editingModal?editHour():createHour()\">\n         <!-- ID DOCTOR INPUT -->\n         <titled-input \n            ngDefaultControl \n            title=\"Doctor\" \n            type=\"number\"\n            [(ngModel)]=\"selectedHour.id\">\n        </titled-input>\n        <!-- HORA INICIO INPUT -->\n        <titled-input \n            ngDefaultControl \n            title=\"Hora Inicio\" \n            type=\"number\"\n            [(ngModel)]=\"selectedHour.hourOpen\">\n        </titled-input>\n        <!-- HORA FIN INPUT -->\n        <titled-input ngDefaultControl title=\"Hora Fin\" type=\"number\" [(ngModel)]=\"selectedHour.hourClose\">\n        </titled-input>\n        <!-- INTERVALO INPUT -->\n        <titled-input ngDefaultControl title=\"Intervalo\" type=\"number\" [(ngModel)]=\"selectedHour.interval\">\n        </titled-input>\n        <!-- DIA INPUT -->\n        <titled-input ngDefaultControl title=\"Dia\" [(ngModel)]=\"selectedHour.day\">\n        </titled-input>\n        \n\n    </back-modal>\n\n</full-page-modal>"],"sourceRoot":""},"metadata":{},"sourceType":"module"}