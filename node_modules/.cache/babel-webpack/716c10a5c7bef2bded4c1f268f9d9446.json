{"ast":null,"code":"import _asyncToGenerator from \"/home/seo/Desktop/primer-parcial-frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { HttpHeaders } from '@angular/common/http';\nimport { mainEndpoint } from './utils';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport class FacturaService {\n  constructor(http) {\n    this.http = http;\n    this.api = mainEndpoint + \"/stock-pwfe/servicio\";\n    this.apiFicha = mainEndpoint + \"/stock-pwfe/fichaClinica\";\n    this.urlApiProduct = mainEndpoint + \"/stock-pwfe/producto\";\n    this.httpOptions = {\n      headers: new HttpHeaders({\n        'Content-Type': 'application/json',\n        'usuario': 'usuario2'\n      })\n    };\n  }\n\n  getServiceFromTo(fechaDesde, fechaHasta) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      const fechaDesdeCadena = fechaDesde.replace(/-/gi, '');\n      const fechaHastaCadena = fechaHasta.replace(/-/gi, '');\n      const requestObj = {\n        \"fechaDesdeCadena\": fechaDesdeCadena,\n        \"fechaHastaCadena\": fechaHastaCadena\n      };\n      const urlApi = `${_this.api}?ejemplo=${encodeURIComponent(JSON.stringify(requestObj))}`;\n      const {\n        lista\n      } = yield _this.http.get(urlApi).toPromise();\n      return lista;\n    })();\n  }\n\n  getServiceByPatientId(idPatient) {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      const requestObj = {\n        \"idFichaClinica\": {\n          \"idCliente\": {\n            \"idPersona\": idPatient\n          }\n        }\n      };\n      const urlApi = `${_this2.api}?ejemplo=${encodeURIComponent(JSON.stringify(requestObj))}`;\n      const {\n        lista\n      } = yield _this2.http.get(urlApi).toPromise();\n      return lista;\n    })();\n  }\n\n  getServiceByFisioId(idFisioterapeuta) {\n    var _this3 = this;\n\n    return _asyncToGenerator(function* () {\n      const requestObj = {\n        \"idEmpleado\": {\n          \"idPersona\": idFisioterapeuta\n        }\n      };\n      const urlApi = `${_this3.api}?ejemplo=${encodeURIComponent(JSON.stringify(requestObj))}`;\n      const {\n        lista\n      } = yield _this3.http.get(urlApi).toPromise();\n      return lista;\n    })();\n  }\n\n  getDetailServiceById(id) {\n    var _this4 = this;\n\n    return _asyncToGenerator(function* () {\n      const urlApi = `${_this4.api}/${id}/detalle`;\n      const {\n        lista\n      } = yield _this4.http.get(urlApi).toPromise();\n      return lista;\n    })();\n  }\n\n  getAllDetailService() {\n    var _this5 = this;\n\n    return _asyncToGenerator(function* () {\n      const {\n        lista\n      } = yield _this5.http.get(_this5.api).toPromise();\n      return lista;\n    })();\n  }\n\n  getAllFicha() {\n    var _this6 = this;\n\n    return _asyncToGenerator(function* () {\n      const {\n        lista\n      } = yield _this6.http.get(_this6.apiFicha).toPromise();\n      return lista;\n    })();\n  }\n\n  createFacturaCabecera(obs, idFichaClinica) {\n    var _this7 = this;\n\n    return _asyncToGenerator(function* () {\n      const requestObj = {\n        \"idFichaClinica\": {\n          \"idFichaClinica\": idFichaClinica\n        },\n        \"observacion\": obs\n      };\n      const result = yield _this7.http.post(_this7.api, requestObj, _this7.httpOptions).toPromise();\n      return result;\n    })();\n  }\n\n  createFacturaDetalle(cant, idPresentacionProducto, idServicio) {\n    var _this8 = this;\n\n    return _asyncToGenerator(function* () {\n      const requestObj = {\n        \"cantidad\": cant,\n        \"idPresentacionProducto\": {\n          \"idPresentacionProducto\": idPresentacionProducto\n        },\n        \"idServicio\": {\n          \"idServicio\": idServicio\n        }\n      };\n      const result = yield _this8.http.post(_this8.api + \"/\" + idServicio + \"/detalle\", requestObj, _this8.httpOptions).toPromise();\n      return result;\n    })();\n  }\n\n  getAllProducts() {\n    var _this9 = this;\n\n    return _asyncToGenerator(function* () {\n      const {\n        lista\n      } = yield _this9.http.get(_this9.urlApiProduct).toPromise();\n      return lista;\n    })();\n  }\n\n}\n\nFacturaService.ɵfac = function FacturaService_Factory(t) {\n  return new (t || FacturaService)(i0.ɵɵinject(i1.HttpClient));\n};\n\nFacturaService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: FacturaService,\n  factory: FacturaService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"sources":["/home/seo/Desktop/primer-parcial-frontend/src/app/services/factura.service.ts"],"names":[],"mappings":"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","sourcesContent":["import { Injectable } from '@angular/core';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { getFechaForQuery, mainEndpoint } from './utils';\n\n@Injectable({\n  providedIn: 'root',\n})\n\nexport class FacturaService {\n  private api: string = mainEndpoint + \"/stock-pwfe/servicio\";\n  private apiFicha: string = mainEndpoint + \"/stock-pwfe/fichaClinica\";\n  private urlApiProduct: string = mainEndpoint + \"/stock-pwfe/producto\";\n  private httpOptions: object  = {\n    headers: new HttpHeaders({\n      'Content-Type':  'application/json',\n      'usuario': 'usuario2'\n    })\n  \n  };\n  constructor(private http: HttpClient) {}\n\n  public async getServiceFromTo( fechaDesde: string, fechaHasta: string): Promise<any[]> {\n    const fechaDesdeCadena: string = fechaDesde.replace(/-/gi, '');\n    const fechaHastaCadena: string = fechaHasta.replace(/-/gi, '');\n    const requestObj =  {\"fechaDesdeCadena\":fechaDesdeCadena, \"fechaHastaCadena\":fechaHastaCadena}; \n\n    const urlApi:string = `${this.api}?ejemplo=${encodeURIComponent(JSON.stringify(requestObj))}`;\n    const { lista } = await this.http.get<any>(urlApi).toPromise();\n    return lista;\n  }\n\n  public async getServiceByPatientId(idPatient: string): Promise<any[]> {\n    const requestObj =  {\"idFichaClinica\":{\"idCliente\":{\"idPersona\":idPatient}}};\n    \n    const urlApi:string = `${this.api}?ejemplo=${encodeURIComponent(JSON.stringify(requestObj))}`;\n    const { lista } = await this.http.get<any>(urlApi).toPromise();\n    return lista;\n  }\n  \n  public async getServiceByFisioId(idFisioterapeuta: string): Promise<any[]> {\n    const requestObj =  {\"idEmpleado\":{\"idPersona\":idFisioterapeuta}};\n    \n    const urlApi:string = `${this.api}?ejemplo=${encodeURIComponent(JSON.stringify(requestObj))}`;\n    const { lista } = await this.http.get<any>(urlApi).toPromise();\n    return lista;\n  }\n\n  public async getDetailServiceById(id: number): Promise<any[]> {\n    const urlApi:string = `${this.api}/${id}/detalle`;\n    const { lista } = await this.http.get<any>(urlApi).toPromise();\n    return lista;\n  }\n\n\n  public async getAllDetailService(): Promise<any[]> {\n    const { lista } = await this.http.get<any>(this.api).toPromise();\n    return lista;\n  }\n  public async getAllFicha(): Promise<any[]> {\n    const { lista } = await this.http.get<any>(this.apiFicha).toPromise();\n    return lista;\n  }\n  \n  public async createFacturaCabecera(obs:string, idFichaClinica:number ): Promise<any> {\n    const requestObj:Object = {\n        \"idFichaClinica\": {\n            \"idFichaClinica\":idFichaClinica\n            },\n        \"observacion\":obs\n    };\n    const result = await this.http.post<any>(this.api, requestObj, this.httpOptions).toPromise();\n    return result;\n  }\n\n  public async createFacturaDetalle(cant:number, idPresentacionProducto:number,idServicio:number ): Promise<any> {\n    const requestObj:Object = {\n        \"cantidad\": cant,\n        \"idPresentacionProducto\":{\n            \"idPresentacionProducto\":idPresentacionProducto\n        },\n        \"idServicio\":{\n            \"idServicio\":idServicio\n        }\n    };\n    const result = await this.http.post<any>(this.api+\"/\"+idServicio+\"/detalle\", requestObj, this.httpOptions).toPromise();\n    return result;\n  }\n  public async getAllProducts(): Promise<any[]> {\n    const { lista } = await this.http.get<any>(this.urlApiProduct).toPromise();\n  \n    return lista;\n  }\n\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}