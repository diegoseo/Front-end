{"ast":null,"code":"import _asyncToGenerator from \"/home/seo/Desktop/Parcial_front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/account.service\";\nimport * as i2 from \"../../components/includes/titled-input/titled-input.component\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"@angular/common\";\n\nfunction LoginComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 8);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.errorMessage, \" \");\n  }\n}\n\nexport class LoginComponent {\n  constructor(_service) {\n    this._service = _service;\n    this.username = '';\n    this.password = '';\n    this.loging = false;\n    this.errorMessage = '';\n  }\n\n  login() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      _this.errorMessage = ''; // Validate inputs\n\n      if (!_this.username || !_this.password) {\n        _this.errorMessage = 'Nombre de usuario y contraseña son requeridos.';\n        return;\n      } //\n      // Start login\n      //\n\n\n      _this.loging = true; // Login from server\n\n      yield _this._service.login(_this.username, _this.password); // Check login state\n\n      if (_this._service.isLogged) {\n        /* TODO: Go to next page? */\n      } else _this.errorMessage = 'El nombre de usuario no existe.'; // Finalize login\n\n\n      _this.loging = false;\n    })();\n  }\n\n  ngOnInit() {}\n\n}\n\nLoginComponent.ɵfac = function LoginComponent_Factory(t) {\n  return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.AccountService));\n};\n\nLoginComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: LoginComponent,\n  selectors: [[\"login-page\"]],\n  decls: 11,\n  vars: 3,\n  consts: [[1, \"center\", \"full-vh\", \"bg-primary\"], [1, \"column\", \"center\", \"p-40\", \"br-4\", \"b-1\", \"shadow-2\", \"bg-white\", \"login-container\"], [1, \"text-grey-7\", \"fs-20\", \"mb-10\"], [\"ngDefaultControl\", \"\", \"title\", \"Nombre de usuario\", 3, \"ngModel\", \"ngModelChange\"], [\"ngDefaultControl\", \"\", \"title\", \"Contrase\\u00F1a\", \"type\", \"password\", 3, \"ngModel\", \"ngModelChange\"], [\"class\", \"bg-red p-5 br-4 text-white\", 4, \"ngIf\"], [1, \"row\", \"center\", \"m-v-10\"], [1, \"full-item\", \"text-white\", \"bg-primary\", \"br-4\", 3, \"click\"], [1, \"bg-red\", \"p-5\", \"br-4\", \"text-white\"]],\n  template: function LoginComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelementStart(1, \"div\", 1);\n      i0.ɵɵelementStart(2, \"div\", 2);\n      i0.ɵɵtext(3, \"Iniciar Sesi\\u00F3n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"titled-input\", 3);\n      i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_titled_input_ngModelChange_4_listener($event) {\n        return ctx.username = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"titled-input\", 4);\n      i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_titled_input_ngModelChange_5_listener($event) {\n        return ctx.password = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(6, LoginComponent_div_6_Template, 2, 1, \"div\", 5);\n      i0.ɵɵelementStart(7, \"div\", 6);\n      i0.ɵɵelementStart(8, \"button\", 7);\n      i0.ɵɵlistener(\"click\", function LoginComponent_Template_button_click_8_listener() {\n        return ctx.login();\n      });\n      i0.ɵɵelementStart(9, \"strong\");\n      i0.ɵɵtext(10, \"INICIAR SESI\\u00D3N\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.username);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngModel\", ctx.password);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", !!ctx.errorMessage);\n    }\n  },\n  directives: [i2.TitledInputComponent, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgModel, i4.NgIf],\n  styles: [\".full-item[_ngcontent-%COMP%] {\\n    width: 100%;\\n    padding: 10px;\\n    margin: 5px 0;\\n}\\n.login-container[_ngcontent-%COMP%] {\\n    max-width:min(400px, 85vw);\\n    margin: 0 10px;\\n}\"]\n});","map":{"version":3,"sources":["/home/seo/Desktop/Parcial_front/src/app/pages/login/login.component.ts","/home/seo/Desktop/Parcial_front/src/app/pages/login/login.component.html"],"names":[],"mappings":"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","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { AccountService } from 'src/app/services/account.service';\n\n@Component({\n  selector: 'login-page',\n  templateUrl: './login.component.html'\n})\nexport class LoginComponent implements OnInit {\n\n  public username: string = '';\n  public password: string = '';\n\n  public loging: boolean = false;\n  public errorMessage: string = '';\n\n  constructor(private _service: AccountService) { }\n\n  public async login() {\n    this.errorMessage = '';\n    // Validate inputs\n    if (!this.username || !this.password) {\n      this.errorMessage = 'Nombre de usuario y contraseña son requeridos.';\n      return;\n    }\n    //\n    // Start login\n    //\n    this.loging = true;\n    // Login from server\n    await this._service.login(this.username, this.password);\n    // Check login state\n    if (this._service.isLogged) { /* TODO: Go to next page? */ } \n    else this.errorMessage = 'El nombre de usuario no existe.';\n    // Finalize login\n    this.loging = false;\n  }\n\n  ngOnInit(): void { }\n\n}\n","<style>\n.full-item {\n    width: 100%;\n    padding: 10px;\n    margin: 5px 0;\n}\n.login-container {\n    max-width:min(400px, 85vw);\n    margin: 0 10px;\n}\n</style>\n\n<div class=\"center full-vh bg-primary\">\n    <div class=\"column center p-40 br-4 b-1 shadow-2 bg-white login-container\">\n\n        <div class=\"text-grey-7 fs-20 mb-10\">Iniciar Sesión</div>\n\n        <!-- INPUTS -->\n        <titled-input\n            ngDefaultControl\n            [(ngModel)]=\"username\" \n            title='Nombre de usuario'>\n        </titled-input>\n        <titled-input\n            ngDefaultControl\n            [(ngModel)]=\"password\" \n            title=\"Contraseña\"\n            type=\"password\">\n        </titled-input>\n\n        <!-- ERROR MESSAGE -->\n\n        <div *ngIf=\"!!errorMessage\" class=\"bg-red p-5 br-4 text-white\">\n            {{errorMessage}}\n        </div>\n\n        <!-- SEND LOGIN -->\n\n        <div class=\"row center m-v-10\">\n            <button (click)=\"login()\" class=\"full-item text-white bg-primary br-4\">\n                <strong>INICIAR SESIÓN</strong>\n            </button>\n        </div>\n    </div>\n\n</div>"],"sourceRoot":""},"metadata":{},"sourceType":"module"}